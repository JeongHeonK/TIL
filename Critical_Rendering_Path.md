### Critical_Rendering_Path

- 브라우저가 HTML, CSS, Javascript를 화면에 픽셀로 변화하는 일련의 단계
- 주요 렌더링 경로: DOM(Document Object Model), CSSOM(CSS Object Model), 렌더 트리, 레이아웃

#### CRP

- HTML 요청: 웹 페이지 요청은 HTML 요청으로 시작합니다. 서버는 HTML 응답을 반환하고, 브라우저는 이를 분석하여 DOM(Document Object Model) 트리로 변환합니다.
- 외부 자원 요청: HTML 내에서 참조된 CSS, JavaScript, 이미지 등의 외부 자원을 불러오기 위해 추가적인 요청을 보냅니다. 이때, 외부 자원 로딩이 끝나야만 HTML 분석이 계속될 수 있습니다.
- DOM과 CSSOM 생성: HTML과 CSS를 각각 분석하여 DOM 트리와 CSSOM(CSS Object Model)을 만듭니다.
- DOM은 페이지의 구조적 정보를 담고 있는 트리입니다.
- CSSOM은 DOM의 스타일링 정보를 담고 있는 트리입니다.
- 렌더 트리 생성: DOM과 CSSOM이 모두 완성되면, 브라우저는 두 트리를 결합해 **렌더 트리(Render Tree)**를 생성합니다.
- 레이아웃(Layout): 렌더 트리가 생성된 후, 각 요소들의 위치와 크기를 계산하는 레이아웃을 진행합니다.
- 페인팅(Painting): 최종적으로 화면에 요소들을 그려서 페이지를 렌더링합니다.

#### DOM (Document Object Model)

DOM은 HTML 페이지의 구조를 나타내는 트리 형태의 데이터 구조입니다.
HTML 태그는 시작 태그와 끝 태그를 기준으로 **노드(Node)**로 변환되며, 이 노드들이 계층적으로 연결되어 DOM 트리를 형성합니다.
DOM의 트리 구조는 점진적으로 형성되며, 각 노드는 해당 HTML 요소에 대한 정보를 포함합니다.
DOM 트리의 위계를 잘 이해해야 복잡한 HTML 구조를 잘 처리할 수 있습니다.

#### CSSOM (CSS Object Model)

CSSOM은 CSS 스타일 정보를 기반으로 한 트리입니다.

CSS 분석은 HTML 분석과 달리 순차적으로 이루어지며, CSS의 규칙들이 상속 및 우선순위를 가지기 때문에 분석 순서와 방식이 중요합니다.

렌더링 차단: CSSOM이 완성되지 않으면 브라우저는 페이지 렌더링을 차단합니다. CSS 규칙이 페이지에 영향을 미칠 수 있기 때문에, 모든 스타일을 분석하고 적용해야만 렌더링이 가능합니다.


구체성(Specificity): CSS 선택자의 성능은 선택자의 구체성에 영향을 받습니다. 구체적인 선택자는 더 많은 계산을 요구하므로, 가능한 한 덜 구체적인 선택자를 사용하는 것이 성능에 유리합니다.
예를 들어, .foo {}보다 .bar .foo {}가 더 복잡하고 성능에 부정적인 영향을 미칩니다.

#### 렌더 트리 (Render Tree)

렌더 트리는 보여지는 콘텐츠만 포함하는 트리입니다. 즉, 페이지의 head 섹션이나 display: none 스타일이 적용된 요소는 렌더 트리에 포함되지 않습니다.
렌더 트리는 DOM과 CSSOM을 결합하여 생성됩니다. 이 트리는 브라우저가 페이지를 화면에 렌더링하기 위해 필요한 정보를 담고 있습니다.

#### 렌더링 과정

렌더 트리를 기반으로 **레이아웃(Layout)**과 페인팅(Painting) 단계가 진행됩니다.
레이아웃에서는 각 요소의 크기와 위치가 결정되고, 페인팅 단계에서 실제 화면에 그려집니다.

#### Layout(레이아웃)

개념 렌더 트리가 생성된 후, 페이지 요소들이 배치될 위치와 크기를 결정하는 단계
요소의 너비와 높이는 부모 요소 또는 뷰포트 너비에 의존합니다.

DOM 노드 수가 많으면 레이아웃 시간이 길어지고 스크롤이나 애니메이션에 'jank'를 일으킬 수 있습니다.

#### Paint

픽셀을 화면에 그리는 단계
페이지 로드 시 전체 화면을, 이후에 변경된 영역만 다시 그립니다.

